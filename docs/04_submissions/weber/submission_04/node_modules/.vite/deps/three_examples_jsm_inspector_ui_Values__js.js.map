{
  "version": 3,
  "sources": ["../../three/examples/jsm/inspector/ui/Values.js"],
  "sourcesContent": ["import { EventDispatcher } from 'three';\n\nclass Value extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.className = 'param-control';\n\n\t\tthis._onChangeFunction = null;\n\n\t\tthis.addEventListener( 'change', ( e ) => {\n\n\t\t\t// defer to avoid issues when changing multiple values in the same call stack\n\n\t\t\trequestAnimationFrame( () => {\n\n\t\t\t\tif ( this._onChangeFunction ) this._onChangeFunction( e.value );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\tsetValue( /*val*/ ) {\n\n\t\tthis.dispatchChange();\n\n\t\treturn this;\n\n\t}\n\n\tgetValue() {\n\n\t\treturn null;\n\n\t}\n\n\tdispatchChange() {\n\n\t\tthis.dispatchEvent( { type: 'change', value: this.getValue() } );\n\n\t}\n\n\tonChange( callback ) {\n\n\t\tthis._onChangeFunction = callback;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ValueNumber extends Value {\n\n\tconstructor( { value = 0, step = 0.1, min = - Infinity, max = Infinity } ) {\n\n\t\tsuper();\n\n\t\tthis.input = document.createElement( 'input' );\n\t\tthis.input.type = 'number';\n\t\tthis.input.value = value;\n\t\tthis.input.step = step;\n\t\tthis.input.min = min;\n\t\tthis.input.max = max;\n\t\tthis.input.addEventListener( 'change', this._onChangeValue.bind( this ) );\n\t\tthis.domElement.appendChild( this.input );\n\t\tthis.addDragHandler();\n\n\t}\n\n\t_onChangeValue() {\n\n\t\tconst value = parseFloat( this.input.value );\n\t\tconst min = parseFloat( this.input.min );\n\t\tconst max = parseFloat( this.input.max );\n\n\t\tif ( value > max ) {\n\n\t\t\tthis.input.value = max;\n\n\t\t} else if ( value < min ) {\n\n\t\t\tthis.input.value = min;\n\n\t\t} else if ( isNaN( value ) ) {\n\n\t\t\tthis.input.value = min;\n\n\t\t}\n\n\t\tthis.dispatchChange();\n\n\t}\n\n\taddDragHandler() {\n\n\t\tlet isDragging = false;\n\t\tlet startY, startValue;\n\n\t\tthis.input.addEventListener( 'mousedown', ( e ) => {\n\n\t\t\tisDragging = true;\n\t\t\tstartY = e.clientY;\n\t\t\tstartValue = parseFloat( this.input.value );\n\t\t\tdocument.body.style.cursor = 'ns-resize';\n\n\t\t} );\n\n\t\tdocument.addEventListener( 'mousemove', ( e ) => {\n\n\t\t\tif ( isDragging ) {\n\n\t\t\t\tconst deltaY = startY - e.clientY;\n\t\t\t\tconst step = parseFloat( this.input.step ) || 1;\n\t\t\t\tconst min = parseFloat( this.input.min );\n\t\t\t\tconst max = parseFloat( this.input.max );\n\n\t\t\t\tlet stepSize = step;\n\n\t\t\t\tif ( ! isNaN( max ) && isFinite( min ) ) {\n\n\t\t\t\t\tstepSize = ( max - min ) / 100;\n\n\t\t\t\t}\n\n\t\t\t\tconst change = deltaY * stepSize;\n\n\t\t\t\tlet newValue = startValue + change;\n\t\t\t\tnewValue = Math.max( min, Math.min( newValue, max ) );\n\n\t\t\t\tconst precision = ( String( step ).split( '.' )[ 1 ] || [] ).length;\n\t\t\t\tthis.input.value = newValue.toFixed( precision );\n\n\t\t\t\tthis.input.dispatchEvent( new Event( 'input' ) );\n\n\t\t\t\tthis.dispatchChange();\n\n\t\t\t}\n\n\t\t} );\n\n\t\tdocument.addEventListener( 'mouseup', () => {\n\n\t\t\tif ( isDragging ) {\n\n\t\t\t\tisDragging = false;\n\t\t\t\tdocument.body.style.cursor = 'default';\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tsetValue( val ) {\n\n\t\tthis.input.value = val;\n\n\t\treturn super.setValue( val );\n\n\t}\n\n\tgetValue() {\n\n\t\treturn parseFloat( this.input.value );\n\n\t}\n\n}\n\nclass ValueCheckbox extends Value {\n\n\tconstructor( { value = false } ) {\n\n\t\tsuper();\n\n\t\tconst label = document.createElement( 'label' );\n\t\tlabel.className = 'custom-checkbox';\n\n\t\tconst checkbox = document.createElement( 'input' );\n\t\tcheckbox.type = 'checkbox';\n\t\tcheckbox.checked = value;\n\t\tthis.checkbox = checkbox;\n\n\t\tconst checkmark = document.createElement( 'span' );\n\t\tcheckmark.className = 'checkmark';\n\n\t\tlabel.appendChild( checkbox );\n\t\tlabel.appendChild( checkmark );\n\t\tthis.domElement.appendChild( label );\n\n\t\tcheckbox.addEventListener( 'change', () => {\n\n\t\t\tthis.dispatchChange();\n\n\t\t} );\n\n\t}\n\n\tsetValue( val ) {\n\n\t\tthis.checkbox.value = val;\n\n\t\treturn super.setValue( val );\n\n\t}\n\n\tgetValue() {\n\n\t\treturn this.checkbox.checked;\n\n\t}\n\n}\n\nclass ValueSlider extends Value {\n\n\tconstructor( { value = 0, min = 0, max = 1, step = 0.01 } ) {\n\n\t\tsuper();\n\n\t\tthis.slider = document.createElement( 'input' );\n\t\tthis.slider.type = 'range';\n\t\tthis.slider.min = min;\n\t\tthis.slider.max = max;\n\t\tthis.slider.step = step;\n\n\t\tconst numberValue = new ValueNumber( { value, min, max, step } );\n\t\tthis.numberInput = numberValue.input;\n\t\tthis.numberInput.style.flexBasis = '80px';\n\t\tthis.numberInput.style.flexShrink = '0';\n\n\t\tthis.slider.value = value;\n\n\t\tthis.domElement.append( this.slider, this.numberInput );\n\n\t\tthis.slider.addEventListener( 'input', () => {\n\n\t\t\tthis.numberInput.value = this.slider.value;\n\n\t\t\tthis.dispatchChange();\n\n\t\t} );\n\n\t\tnumberValue.addEventListener( 'change', () => {\n\n\t\t\tthis.slider.value = parseFloat( this.numberInput.value );\n\n\t\t\tthis.dispatchChange();\n\n\t\t} );\n\n\t}\n\n\tsetValue( val ) {\n\n\t\tthis.slider.value = val;\n\t\tthis.numberInput.value = val;\n\n\t\treturn super.setValue( val );\n\n\t}\n\n\tgetValue() {\n\n\t\treturn parseFloat( this.slider.value );\n\n\t}\n\n\tstep( value ) {\n\n\t\tthis.slider.step = value;\n\t\tthis.numberInput.step = value;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass ValueSelect extends Value {\n\n\tconstructor( { options = [], value = '' } ) {\n\n\t\tsuper();\n\n\t\tconst select = document.createElement( 'select' );\n\n\t\tconst createOption = ( name, optionValue ) => {\n\n\t\t\tconst optionEl = document.createElement( 'option' );\n\t\t\toptionEl.value = name;\n\t\t\toptionEl.textContent = name;\n\n\t\t\tif ( optionValue == value ) optionEl.selected = true;\n\n\t\t\tselect.appendChild( optionEl );\n\n\t\t\treturn optionEl;\n\n\t\t};\n\n\t\tif ( Array.isArray( options ) ) {\n\n\t\t\toptions.forEach( opt => createOption( opt, opt ) );\n\n\t\t} else {\n\n\t\t\tObject.entries( options ).forEach( ( [ key, value ] ) => createOption( key, value ) );\n\n\t\t}\n\n\t\tthis.domElement.appendChild( select );\n\n\t\t//\n\n\t\tselect.addEventListener( 'change', () => {\n\n\t\t\tthis.dispatchChange();\n\n\t\t} );\n\n\t\tthis.options = options;\n\t\tthis.select = select;\n\n\t}\n\n\tgetValue() {\n\n\t\tconst options = this.options;\n\n\t\tif ( Array.isArray( options ) ) {\n\n\t\t\treturn options[ this.select.selectedIndex ];\n\n\t\t} else {\n\n\t\t\treturn options[ this.select.value ];\n\n\t\t}\n\n\t}\n\n}\n\nclass ValueColor extends Value {\n\n\tconstructor( { value = '#ffffff' } ) {\n\n\t\tsuper();\n\n\t\tconst colorInput = document.createElement( 'input' );\n\t\tcolorInput.type = 'color';\n\t\tcolorInput.value = this._getColorHex( value );\n\t\tthis.colorInput = colorInput;\n\n\t\tthis._value = value;\n\n\t\tcolorInput.addEventListener( 'input', () => {\n\n\t\t\tconst colorValue = colorInput.value;\n\n\t\t\tif ( this._value.isColor ) {\n\n\t\t\t\tthis._value.setHex( parseInt( colorValue.slice( 1 ), 16 ) );\n\n\t\t\t} else {\n\n\t\t\t\tthis._value = colorValue;\n\n\t\t\t}\n\n\t\t\tthis.dispatchChange();\n\n\t\t} );\n\n\t\tthis.domElement.appendChild( colorInput );\n\n\t}\n\n\t_getColorHex( color ) {\n\n\t\tif ( color.isColor ) {\n\n\t\t\tcolor = color.getHex();\n\n\t\t}\n\n\t\tif ( typeof color === 'number' ) {\n\n\t\t\tcolor = `#${ color.toString( 16 ) }`;\n\n\t\t} else if ( color[ 0 ] !== '#' ) {\n\n\t\t\tcolor = '#' + color;\n\n\t\t}\n\n\t\treturn color;\n\n\t}\n\n\tgetValue() {\n\n\t\tlet value = this._value;\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tvalue = parseInt( value.slice( 1 ), 16 );\n\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n}\n\nclass ValueButton extends Value {\n\n\tconstructor( { text = 'Button', value = () => {} } ) {\n\n\t\tsuper();\n\n\t\tconst button = document.createElement( 'button' );\n\t\tbutton.textContent = text;\n\t\tbutton.onclick = value;\n\t\tthis.domElement.appendChild( button );\n\n\t}\n\n}\n\nexport { Value, ValueNumber, ValueCheckbox, ValueSlider, ValueSelect, ValueColor, ValueButton };\n"],
  "mappings": "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",
  "names": ["value"]
}
